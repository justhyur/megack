<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="css/style.css"/>
</head>
<body>
    <div class="header">
        <a id="logoLink"><img id="logo"/></a>
    </div>
    <div class="container">
        <div id="content" class="content" style="display:none">
            <p id="p"></p>
            <table>
                <tr>
                    <th id="th1-1"></th>
                    <td>D1</td>
                </tr>
                <tr>
                    <th id="th2-1"></th>
                    <td id="d1"></td>
                </tr>
                <tr>
                    <th id="th3-1"></th>
                    <td id="vn1"></td>
                </tr>
                <tr>
                    <th id="th4-1"></th>
                    <td id="com1"></td>
                </tr>
                <tr>
                    <th id="th5-1"></th>
                    <td id="l1"></td>
                </tr>
            </table>
            <table>
                <tr>
                    <th id="th1-2"></th>
                    <td>D2</td>
                </tr>
                <tr>
                    <th id="th2-2"></th>
                    <td id="d2"></td>
                </tr>
                <tr>
                    <th id="th3-2"></th>
                    <td id="vn2"></td>
                </tr>
                <tr>
                    <th id="th4-2"></th>
                    <td id="com2"></td>
                </tr>
                <tr>
                    <th id="th5-2"></th>
                    <td id="l2"></td>
                </tr>
            </table>
            <p id="fvac"></p>
            <p id="cadd"></p>
        </div>
        <div id="error" class="content">
            <p style="text-align: center">There's been a problem.<br/>Please, try again later.</p>
        </div>
    </div>
    <script type="text/javascript" src="crypto-js/crypto-js.js"></script>
    <script>
        function setFavicons(favImg){
            let headTitle = document.querySelector('head');
            let setFavicon = document.createElement('link');
            setFavicon.setAttribute('rel','shortcut icon');
            setFavicon.setAttribute('href',favImg);
            headTitle.appendChild(setFavicon);
        }
        window.onload = () => {
            const crs = 'U2FsdGVkX194Zi564cw5ftC9PHGwBNsvBdW5pPW/kR3d3GucypsagSJZTh5G1L/QF+AE/TQwqMs2GLnHqqzkK8hDX7Bu/30bjXVg2JxIkTprJMUcmgmDX04Z0EfbyilOqp2K9UUkd47nOCQs1NeVCK9H/lzZEY9FBoN6ZuBx1hk3wcurqRMseCg80CCl13zsylVz3bMxsOnQZIicFVWXUgM1eZ69jw1H36ZVZewHBqBJQHi2IcNTuvhV9oUxjtgDlgXqsaG5jQWqZo0Er+7kNP0ZH3WhMKrLHhGNa7vAVQu1hj1rMHQB4+xhhpvlxxH4BohUqsXVMoaZPctyfYByZNDEK36DxH7iMxySUs/elQ8jZuyWErOuZxNAaGyPZ96vVm/d/9XVT6Dqb+rSuP1KC8H4Tzh/qp12gykxooDUV2Bdwrhz2dRXzQ5FB7IgG3ipMZ2oIj3ajjzWM/mfo8y7QLKJGrtLn1hE2Ut1yJjGeD+dZ82NsXJgaFEkmjrb48FCZytr/CHWUTOVB7h8l+bW0CjpiLVlcAN011n9oK08x7bM/K8PLKJW4f3f8dR8o81VB9h/fYtzsYR9gO3YepJojZdKPPoUJVLmtenI+1ERPm6fXjkh9iLzYPg5l/op6MppdzqNEiuHPn5ZcLG9c/CjOfYcH46qvpgAgVpjINBFWYwaDbVtq1x/LTM5jGHUqa1imweu8luFWr7te4mcxu6ATlAww9qdlUvb96pZQNWu++4TdcGxO2bookBnFXCUXuUC9O5y+LJ5Yw/OrjSPOEDi7oiLLHvPWVtMyEe0BP+ihiodchEMQspV+O6ZI1iwSueBIgMfjLi/tcGPjxS06NysIQC7ZAI+kWHQCLhWQj7DjbdLByE2wfGDPHf1OUcF47o8DCmEwzUBn36GOjznOnPumSQsWo1xRENzjAQWk4zbCB8Rmabqb9KrRuooOVmBZC+CcbKIrLmjEusYGs0fXryvRtjfk9mReFyCX80qbsX3NwLKbTA70r/xeB0LOzBBGBgPsxVySOV+Gk11MhfnWNybkZYLAJrzIG7D+3kvruIaBvz2hadYBPwt6UP3TZD7QtO53mQneSP1idnsB6ar1AKHWWqCcWLSkEWsPcksq9NuH+xk/xWzsFMR5MiAL5NR1JcnmvkzC3lxNEokIDzI3sJRUo73VejyB/jJSib3Qm+LxpGR0uAD0UBuhSzwjS6Dy+X314CMvAwYKXykV7D3MbARw5CCySE+DKM0SHcjcO6G0+9M5bZaD2weeMJMdLC0ZRVvl+iHTa/+5bNUPyvSvzkaQv6Oq+ewEwveW8nYDwDiovU=';
            const bytes  = CryptoJS.AES.decrypt(crs, location.search);
            const search = bytes.toString(CryptoJS.enc.Utf8);
            const urlParams = new URLSearchParams(search);
            
            let data = {};
            urlParams.forEach((value, key) => {
                data[key] = value;
            });

            if(data && Object.keys(data).length > 0){
                const pText = `
                    ${data.t1}<br/><strong>${data.name}</strong><br/>
                    ${data.t2}<strong>${data.birth}</strong> in <strong>${data.city}</strong><br/>
                    ${data.t3}<strong>${data.res}</strong><br/>
                    ${data.t4}<strong>${data.cf}</strong><br/>
                    ${data.t5}<br/>
                `
                document.querySelector("#logo").src = data.logo;
                document.querySelector("#logoLink").href = data.webLink;
                document.querySelector("#p").innerHTML = pText;
                document.querySelector("#th1-1").innerHTML = data.th1;
                document.querySelector("#th2-1").innerHTML = data.th2;
                document.querySelector("#th3-1").innerHTML = data.th3;
                document.querySelector("#th4-1").innerHTML = data.th4;
                document.querySelector("#th5-1").innerHTML = data.th5;
                document.querySelector("#th1-2").innerHTML = data.th1;
                document.querySelector("#th2-2").innerHTML = data.th2;
                document.querySelector("#th3-2").innerHTML = data.th3;
                document.querySelector("#th4-2").innerHTML = data.th4;
                document.querySelector("#th5-2").innerHTML = data.th5;
                document.querySelector("#d1").innerHTML = data.d1;
                document.querySelector("#d2").innerHTML = data.d2;
                document.querySelector("#vn1").innerHTML = data.vname;
                document.querySelector("#vn2").innerHTML = data.vname;
                document.querySelector("#com1").innerHTML = data.com;
                document.querySelector("#com2").innerHTML = data.com;
                document.querySelector("#l1").innerHTML = data.l1;
                document.querySelector("#l2").innerHTML = data.l2;
                document.querySelector("title").innerHTML = data.title;
                document.querySelector("#cadd").innerHTML = data.cadd;
                document.querySelector("#fvac").innerHTML = data.fvac;
                setFavicons(data.favicon);
                document.querySelector("#error").style.display = "none";
                document.querySelector("#content").style.display = "block";
            }
        }
    </script>
</body>
</html>